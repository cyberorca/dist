"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(this["webpackChunkKLYCreative"] = this["webpackChunkKLYCreative"] || []).push([["floatingPin"],{

/***/ "./src/modules/FloatingPin.js":
/*!************************************!*\
  !*** ./src/modules/FloatingPin.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FloatingPin: () => (/* binding */ FloatingPin)\n/* harmony export */ });\nfunction FloatingPin(config, doc, site) {\n    try {\n        var floating_pin_script ='';\n        var floating_pin_template = '';\n        floating_pin_template = `\n        <sty`+`le>\n            #floating-pin {\n                position: fixed;\n                top: 1000px;\n                left: 0;\n                width: 0;\n                height: 0;\n                z-index: 999999999;\n                visibility: hidden;\n                overflow: hidden;\n            }\n\n            #floating-pin.active {\n                top: 0;\n                visibility: visible;\n                overflow: visible;\n                -webkit-transition: top 1s;\n                -o-transition: top 1s;\n                transition: top 1s;\n                display: block;\n            }\n\n            #floating-pin.landscape {\n                display: none;\n            }\n\n            #floating-pin-toggler {\n                position: absolute;\n                /*width: 90px;\n                height: 90px;*/\n                width: 70px;\n                height: 70px;\n                left: 20px;\n                visibility: hidden;\n            }\n\n            #floating-pin-toggler img {\n                width: 100%;\n            }\n\n            #floating-pin-toggler.active {\n                visibility: visible;\n            }\n\n            #floating-pin-dialogbox-wrapper {\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 0;\n                height: 0;\n                background: transparent;\n                overflow: hidden;\n                visibility: hidden;\n            }\n\n            #floating-pin-dialogbox-wrapper.active {\n                background: rgba(0, 0, 0, .65);\n                visibility: visible;\n            }\n\n            #floating-pin-dialogbox {\n                position: absolute;\n                display: block;\n                border-radius: 5px;\n                overflow: hidden;\n                -webkit-transform: translateY(900px);\n                -ms-transform: translateY(900px);\n                -o-transform: translateY(900px);\n                transform: translateY(900px);\n                -webkit-transition: transform .7s;\n                -o-transition: transform .7s;\n                transition: transform .7s;\n            }\n\n            #floating-pin-dialogbox-wrapper.active #floating-pin-dialogbox {\n                -webkit-transform: translateY(0);\n                -ms-transform: translateY(0);\n                -o-transform: translateY(0);\n                transform: translateY(0);\n                -webkit-transition: transform .7s;\n                -o-transition: transform .7s;\n                transition: transform .7s;\n            }\n\n            #floating-pin-yes,\n            #floating-pin-no {\n                display: block;\n                width: 100%;\n                font-family: \"Open Sans\", arial, sans-serif;\n                font-weight: 500;\n                font-size: 16px;\n                text-decoration: none;\n                text-align: center;\n                padding: 20px 0;\n                border-bottom: 1px solid #d0d0d0;\n                background: #FFF;\n            }\n\n            #floating-pin-yes {\n                margin-top: -5px;\n            }\n\n            .kl #floating-pin-yes {\n                color: #F39812;\n            }\n\n            .mdk #floating-pin-yes {\n                color: #F70100;\n            }\n\n            #floating-pin-no {\n                color: #7A7A7A;\n            }\n\n            #floating-pin-dialogbox.portrait img {\n                max-width: 100%;\n                max-height: 100%;\n            }\n\n            img#close-floating-pin {\n                position: absolute;\n                z-index: 99999;\n            }\n\n            img#close-floating-pin-toggle{\n                /*left: 110px*/\n                left: 90px; \n                transform: translate(-50%, -50%);\n                z-index: 9999999;\n                position: absolute;\n            }\n        </st`+`yle>\n        <div id=\"floating-pin\" class=\"kl\">\n            <img src=\"https://preview-kmkonline.akamaized.net/banners/images/close-btn2.png\" id=\"close-floating-pin-toggle\">\n            <div onclick=\"togglePopup();\" id=\"floating-pin-toggler\" class=\"active\"><img id=\"floating-pin-toggler-img\" src=\"\" alt=\"\"></div>\n            <div id=\"beacon_toggler\" style=\"position: absolute; left: 0px; top: 0px; visibility: hidden;\">\n                <img id=\"floating-pin-toggler-impr-img\" src=\"#\" style=\"display:none; visibility:hidden;\" width=\"0\" height=\"0\" />\n            </div>\n\n            <div id=\"floating-pin-dialogbox-wrapper\">\n                <img src=\"https://preview-kmkonline.akamaized.net/banners/images/close-btn2.png\" id=\"close-floating-pin\" onclick=\"togglePopup(true,true);\">\n                <div id=\"floating-pin-dialogbox\">\n                    <img id=\"floating-pin-img\" src=\"${config.mainImg}\" alt=\"\">\n                    <div id=\"beacon_dialogbox\" style=\"position: absolute; left: 0px; top: 0px; visibility: hidden;\">\n                        <img id=\"floating-pin-dialogbox-impr-img\" src=\"#\" style=\"display:none; visibility:hidden;\" width=\"0\" height=\"0\" />\n                        ${config.additionalTracker}\n                    </div>\n                    <div id=\"floating-pin-btn-wrapper\">\n                        <div onclick=\"togglePopup(true);\" id=\"floating-pin-yes\">${config.yesBtnText}</div>\n                        <a onclick=\"togglePopup(true,true);\" id=\"floating-pin-no\">${config.noBtnText}</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n        `;\n\n        floating_pin_script = `\n        var pixelImg = 'https://cdns.klimg.com/d.kapanlaginetwork.com/banner/asset/img/pixel.png';\n        var site = \"${site}\";\n        var dfp_landingPage = \"${config.clickUrl}${config.landingPage}\";\n        var togglerImgSrc = \"${config.togglerImg}\";\n        var togglerImprImgSrc = \"${config.logUrl}\";\n        var respondedBanDuration = 360;\n        var triggerScrollTop = 1500;\n        var defaultCookieDuration = 10;\n        var FloatingPin_DMPCat  = '${config.dmpCategory}'.trim().split(/\\\\s*,\\\\s*/);\n        var FloatingPinGAMMacro = '{\"bannerid\":\"${config.bannerId}\",\"zondeId\":\"${config.zoneId}\"}';\n        var DFPDisableCloseBtn = ${config.disableNoBtn};\n\n        var floatingPin = document.getElementById(\"floating-pin\");\n        var floatingpinWrapper = document.getElementById(\"floating-pin-dialogbox-wrapper\");\n        var floatingpinToggler = document.getElementById(\"floating-pin-toggler\");\n        var floatingpinPopup = document.getElementById(\"floating-pin-dialogbox\");\n        var floatingpinImg = document.getElementById(\"floating-pin-img\");\n        var floatingpinYes = document.getElementById(\"floating-pin-yes\");\n        var floatingpinNo = document.getElementById(\"floating-pin-no\");\n        var floatingpinClose = document.getElementById(\"close-floating-pin\");\n        var floatingpinCloseToggle = document.getElementById(\"close-floating-pin-toggle\");\n        var floatingpinTogglerImg = document.getElementById(\"floating-pin-toggler-img\");\n        var floatingpinTogglerImprImg = document.getElementById(\"floating-pin-toggler-impr-img\");\n        var floatingpinDialogBoxImprImg = document.getElementById(\"floating-pin-dialogbox-impr-img\");\n        var floatingpinScrollTop = 0;\n\n        var canScroll = true;\n        var deviceOrientation = \"\";\n        var dfp_floatingPinShown = false;\n        var dfp_popupIsAndroid = false;\n        var dfp_banFloatingPin = getCookieValue(\"dfp_banFloatingPin\");\n        var dfp_popupIsIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);\n        var dfp_popupIsAndroid = dfp_popupIsIOS ? false : /android/i.test(navigator.userAgent);\n\n        if (site.match(/kapanlagi/ig)) {\n            floatingPin.className += \" kl\";\n        } else if (site.match(/merdeka/ig)) {\n            floatingPin.className += \" mdk\";\n        }\n\n        floatingpinCloseToggle.addEventListener(\"click\", function(){\n            floatingPin.classList.remove(\"active\");\n        });\n\n        function showFloatingPin() {\n            floatingPin.className = \"active\";\n            floatingpinTogglerImg.src = togglerImgSrc;\n            floatingpinYes.addEventListener(\"click\", generateDMPLPFloatingPin);\n            floatingpinTogglerImg.style.border = \"none\";\n            floatingpinTogglerImprImg.src = togglerImprImgSrc;\n            floatingpinWrapper.style.width = window.innerWidth + \"px\";\n            floatingpinWrapper.style.height = window.innerHeight + \"px\";\n            floatingPinVisualCallback();\n            dfp_floatingPinShown = true;\n            if (DFPDisableCloseBtn) {\n                floatingPinDisableClose();\n            }\n        };\n\n        function floatingPinDisableClose() {\n            floatingpinNo.style.display = 'none';\n            floatingpinClose.style.display = 'block';\n            floatingpinWrapper.addEventListener(\"click\", function () {\n                togglePopup(true,true);\n            });\n        \n        }\n\n        function generateDMPLPFloatingPin(){\n            if(typeof parent.window.createDMPTracker === \"function\"){\n                parent.window.createDMPTracker(FloatingPin_DMPCat,dfp_landingPage,FloatingPinGAMMacro);\n            }else{\n                parent.window.open(dfp_landingPage, '_blank');\n            }\n        }\n\n        function floatingPinVisualCallback() {\n\n            floatingpinWrapper.style.width = window.innerWidth + \"px\";\n            floatingpinWrapper.style.height = window.innerHeight + \"px\";\n            /*floatingpinToggler.style.top = ((window.innerHeight / 2) - (floatingpinToggler.offsetHeight / 2) - 20) + \"px\";\n            floatingpinCloseToggle.style.top = ((window.innerHeight / 2) - (floatingpinToggler.offsetHeight / 2) -15) + \"px\";*/\n            \n            floatingpinToggler.style.top = ((window.innerHeight / 2) - (floatingpinToggler.offsetHeight) - 65) + \"px\";\n            floatingpinCloseToggle.style.top = ((window.innerHeight / 2) - (floatingpinToggler.offsetHeight) - 65) + \"px\";\n            \n            \n            var ios = navigator.userAgent.match(/(iPad|iPhone|iPod)/g);\n            var angelOrientation = (ios) ? window.orientation : screen.orientation.angle;\n\n            if (angelOrientation == 0) {\n            \n                deviceOrientation = \"portrait\";\n            \n                if (floatingpinWrapper.className == \"active\") {\n                    floatingPinDisableScroll(true);\n                }\n            \n                floatingPin.className = floatingPin.className.replace(\" landscape\", \"\");\n                floatingpinPopup.className = \"portrait\";\n                floatingpinPopup.style.width = 3 * floatingpinWrapper.offsetWidth / 4 + \"px\";\n                floatingpinPopup.style.left = floatingpinWrapper.offsetWidth / 8 + \"px\";\n                floatingpinPopup.style.top = floatingpinWrapper.offsetHeight / 2 - floatingpinPopup.offsetHeight / 2 + \"px\";\n                floatingpinClose.style.right = \"calc(((100% - \"+floatingpinPopup.style.width +\" ) / 2) - 14px)\";\n                floatingpinClose.style.top = (floatingpinWrapper.offsetHeight / 2 - floatingpinPopup.offsetHeight / 2 ) - 14 + \"px\" ;\n            \n            } else {\n            \n                deviceOrientation = \"landscape\";\n                floatingPinDisableScroll(false);\n                if (!floatingPin.className.match(\"landscape\")) floatingPin.className += \" landscape\";\n                /*floatingpinPopup.className = \"landscape\";\n                floatingpinPopup.style.width = 7 * floatingpinWrapper.offsetWidth / 8 + \"px\";\n                floatingpinPopup.style.left = floatingpinWrapper.offsetWidth / 16 + \"px\";\n                floatingpinPopup.style.top = floatingpinWrapper.offsetHeight / 2 - floatingpinPopup.offsetHeight / 2 + \"px\";*/\n            \n            }\n        \n        };\n\n        function hideOnesignal() {\n            var onesignal = document.getElementById(\"onesignal-popover-container\");\n            if (onesignal) {\n                onesignal.style.display = 'none';\n            }\n        }\n\n        function togglePopup(responded, btnNO) {\n            floatingpinCloseToggle.style.display = 'none';\n            hideOnesignal();\n            if (!new RegExp(\"(s|^)active(s|$)\").test(floatingpinWrapper.className)) {\n                floatingpinWrapper.className = \"active\";\n                floatingpinToggler.className = \"\";\n                floatingpinTogglerImg.src = \"\";\n                floatingpinImg.src = \"${config.mainImg}\";\n                floatingpinTogglerImprImg.src = \"\";\n                floatingpinDialogBoxImprImg.src = pixelImg;\n                floatingPinDisableScroll(true);\n            } else {\n                if (responded) {\n                    var nowDate = new Date();\n                    nowDate.setHours(nowDate.getHours(), nowDate.getMinutes() + respondedBanDuration);\n                    var cookieExpires = nowDate.toGMTString();\n                    setCookie(\"dfp_banFloatingPin\", \"true\", \"/\", cookieExpires);\n                    if (btnNO) {\n                        setTimeout(function() {\n                            floatingpinDialogBoxImprImg.src = pixelImg;\n                        }, 1000);\n                    }\n                    floatingpinDialogBoxImprImg.src = \"\";\n                }\n                floatingpinTogglerImg.src = togglerImgSrc;\n                floatingpinTogglerImprImg.src = togglerImprImgSrc;\n                floatingpinWrapper.className = \"\";\n                floatingpinToggler.className = \"\";\n                floatingPinDisableScroll(false);\n            }\n\n            floatingPinVisualCallback();\n        };\n\n        function getDomainName() {\n            hostName = window.location.hostname;\n            rHN = hostName.substring(hostName.indexOf(\".\") + 1, hostName.length);\n            return (rHN == \"kapanlaginetwork.com\") ? \"kapanlagi.com\" : rHN;\n        };\n\n        function setCookie(cookieName, cookieValue, cookiePath, cookieExpires) {\n            var cookieValue = escape(cookieValue);\n            var banner_cookieDomain = getDomainName();\n            if (cookieExpires == \"\") {\n                var nowDate = new Date();\n                nowDate.setHours(nowDate.getHours(), nowDate.getMinutes() + defaultCookieDuration);\n                cookieExpires = nowDate.toGMTString();\n            }\n            if (cookiePath != \"\") {\n                cookiePath = \";Path=\" + cookiePath;\n            }\n            document.cookie = cookieName + \"=\" + cookieValue + \";expires=\" + cookieExpires + cookiePath + \";Domain=\" + banner_cookieDomain;\n        };\n\n        function getCookieValue(cookieName) {\n            var cookieValue = document.cookie;\n            var cookieStartsAt = cookieValue.indexOf(\" \" + cookieName + \"=\");\n            if (cookieStartsAt == -1) {\n                cookieStartsAt = cookieValue.indexOf(cookieName + \"=\");\n            }\n            if (cookieStartsAt == -1) {\n                cookieValue = null;\n            } else {\n                cookieStartsAt = cookieValue.indexOf(\"=\", cookieStartsAt) + 1;\n                var cookieEndsAt = cookieValue.indexOf(\";\", cookieStartsAt);\n                if (cookieEndsAt == -1) {\n                    cookieEndsAt = cookieValue.length;\n                }\n                cookieValue = unescape(cookieValue.substring(cookieStartsAt, cookieEndsAt));\n            }\n            return cookieValue;\n        };\n\n        function floatingPinDisableScroll(disable) {\n            console.log('floatingPinDisableScroll ' + disable);\n            if (disable) {\n                floatingpinScrollTop = document.body.scrollTop || document.scrollingElement.scrollTop;\n                document.body.style.height = \"100%\";\n                document.body.style.overflow = \"hidden\";\n                document.body.style.marginTop = \"-\"+floatingpinScrollTop+\"px\";\n                canScroll = false;\n            } else {\n                document.body.style.height = \"auto\";\n                document.body.style.overflow = \"auto\";\n                document.body.style.marginTop = \"0px\";\n                document.body.scrollTop = floatingpinScrollTop;\n                document.scrollingElement.scrollTop = floatingpinScrollTop;\n                canScroll = true;\n            }\n            \n            if (typeof(window.kmklabs) !== \"undefined\") {\n                if (typeof(gamHideNavbarST) == \"undefined\") {\n                    gamHideMenubar(disable)\n                }else{\n                    gamHideNavbarST(disable);\n                }\n            }\n        };\n\n        window.addEventListener(\"orientationchange\", function() {\n            floatingPinVisualCallback();\n        });\n        window.addEventListener(\"resize\", function() {\n            floatingPinVisualCallback();\n        });\n        window.addEventListener(\"scroll\", function(e) {\n            var scrollNode = document.scrollingElement || document.documentElement;\n            var scrollTop = scrollNode.scrollTop;\n            if (scrollTop > triggerScrollTop) {\n                if (!dfp_floatingPinShown && !dfp_banFloatingPin) {\n                    showFloatingPin();\n                }\n            }\n        });\n        window.addEventListener(\"touchmove\", function(e) {\n            if (!canScroll) {\n                e.preventDefault();\n            }\n        });\n        `;\n\n        //get frame parent\n        var iframeParentEl      = doc.body;\n\n        //create popup element to containing popup template\n        var containerEl         = doc.createElement('div');\n        containerEl.innerHTML   = floating_pin_template;\n\n        //add popup element to parent frame\n        iframeParentEl.appendChild(containerEl);\n\n        //create container for popup script\n        var containerScript     = doc.createElement('script');\n        containerScript.setAttribute('type', 'text/javascript');\n\n        //assign script o script container, note in firefox innerText not available so use textContent instead\n        if( typeof containerScript.innerText == 'undefined') {\n            containerScript.textContent = floating_pin_script;\n        } else\n            containerScript.innerText = floating_pin_script;\n\n        //add popup script  container to popup element\n        containerEl.appendChild(containerScript);\n    } catch (e) {\n        console.warn(\"[Floating Pin] Error:\", e);\n    }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQSxpRUFBaUUsMkNBQTJDO0FBQzVHOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSx5REFBeUQ7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0tMWUNyZWF0aXZlLy4vc3JjL21vZHVsZXMvRmxvYXRpbmdQaW4uanM/MTAzYSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gRmxvYXRpbmdQaW4oY29uZmlnLCBkb2MsIHNpdGUpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgZmxvYXRpbmdfcGluX3NjcmlwdCA9Jyc7XG4gICAgICAgIHZhciBmbG9hdGluZ19waW5fdGVtcGxhdGUgPSAnJztcbiAgICAgICAgZmxvYXRpbmdfcGluX3RlbXBsYXRlID0gYFxuICAgICAgICA8c3R5YCtgbGU+XG4gICAgICAgICAgICAjZmxvYXRpbmctcGluIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgICAgICAgdG9wOiAxMDAwcHg7XG4gICAgICAgICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICAgICAgICB3aWR0aDogMDtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDA7XG4gICAgICAgICAgICAgICAgei1pbmRleDogOTk5OTk5OTk5O1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAjZmxvYXRpbmctcGluLmFjdGl2ZSB7XG4gICAgICAgICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gICAgICAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiB0b3AgMXM7XG4gICAgICAgICAgICAgICAgLW8tdHJhbnNpdGlvbjogdG9wIDFzO1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IHRvcCAxcztcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgI2Zsb2F0aW5nLXBpbi5sYW5kc2NhcGUge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICNmbG9hdGluZy1waW4tdG9nZ2xlciB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgIC8qd2lkdGg6IDkwcHg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA5MHB4OyovXG4gICAgICAgICAgICAgICAgd2lkdGg6IDcwcHg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA3MHB4O1xuICAgICAgICAgICAgICAgIGxlZnQ6IDIwcHg7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAjZmxvYXRpbmctcGluLXRvZ2dsZXIgaW1nIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgI2Zsb2F0aW5nLXBpbi10b2dnbGVyLmFjdGl2ZSB7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgI2Zsb2F0aW5nLXBpbi1kaWFsb2dib3gtd3JhcHBlciB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgICAgIHdpZHRoOiAwO1xuICAgICAgICAgICAgICAgIGhlaWdodDogMDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgI2Zsb2F0aW5nLXBpbi1kaWFsb2dib3gtd3JhcHBlci5hY3RpdmUge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgLjY1KTtcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAjZmxvYXRpbmctcGluLWRpYWxvZ2JveCB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDkwMHB4KTtcbiAgICAgICAgICAgICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDkwMHB4KTtcbiAgICAgICAgICAgICAgICAtby10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoOTAwcHgpO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSg5MDBweCk7XG4gICAgICAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjdzO1xuICAgICAgICAgICAgICAgIC1vLXRyYW5zaXRpb246IHRyYW5zZm9ybSAuN3M7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC43cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgI2Zsb2F0aW5nLXBpbi1kaWFsb2dib3gtd3JhcHBlci5hY3RpdmUgI2Zsb2F0aW5nLXBpbi1kaWFsb2dib3gge1xuICAgICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xuICAgICAgICAgICAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XG4gICAgICAgICAgICAgICAgLW8tdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcbiAgICAgICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IHRyYW5zZm9ybSAuN3M7XG4gICAgICAgICAgICAgICAgLW8tdHJhbnNpdGlvbjogdHJhbnNmb3JtIC43cztcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjdzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAjZmxvYXRpbmctcGluLXllcyxcbiAgICAgICAgICAgICNmbG9hdGluZy1waW4tbm8ge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBcIk9wZW4gU2Fuc1wiLCBhcmlhbCwgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggMDtcbiAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2QwZDBkMDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjRkZGO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAjZmxvYXRpbmctcGluLXllcyB7XG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogLTVweDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLmtsICNmbG9hdGluZy1waW4teWVzIHtcbiAgICAgICAgICAgICAgICBjb2xvcjogI0YzOTgxMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLm1kayAjZmxvYXRpbmctcGluLXllcyB7XG4gICAgICAgICAgICAgICAgY29sb3I6ICNGNzAxMDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICNmbG9hdGluZy1waW4tbm8ge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAjN0E3QTdBO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAjZmxvYXRpbmctcGluLWRpYWxvZ2JveC5wb3J0cmFpdCBpbWcge1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbWcjY2xvc2UtZmxvYXRpbmctcGluIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgei1pbmRleDogOTk5OTk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGltZyNjbG9zZS1mbG9hdGluZy1waW4tdG9nZ2xle1xuICAgICAgICAgICAgICAgIC8qbGVmdDogMTEwcHgqL1xuICAgICAgICAgICAgICAgIGxlZnQ6IDkwcHg7IFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgICAgICAgICAgICAgIHotaW5kZXg6IDk5OTk5OTk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICA8L3N0YCtgeWxlPlxuICAgICAgICA8ZGl2IGlkPVwiZmxvYXRpbmctcGluXCIgY2xhc3M9XCJrbFwiPlxuICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL3ByZXZpZXcta21rb25saW5lLmFrYW1haXplZC5uZXQvYmFubmVycy9pbWFnZXMvY2xvc2UtYnRuMi5wbmdcIiBpZD1cImNsb3NlLWZsb2F0aW5nLXBpbi10b2dnbGVcIj5cbiAgICAgICAgICAgIDxkaXYgb25jbGljaz1cInRvZ2dsZVBvcHVwKCk7XCIgaWQ9XCJmbG9hdGluZy1waW4tdG9nZ2xlclwiIGNsYXNzPVwiYWN0aXZlXCI+PGltZyBpZD1cImZsb2F0aW5nLXBpbi10b2dnbGVyLWltZ1wiIHNyYz1cIlwiIGFsdD1cIlwiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBpZD1cImJlYWNvbl90b2dnbGVyXCIgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDBweDsgdG9wOiAwcHg7IHZpc2liaWxpdHk6IGhpZGRlbjtcIj5cbiAgICAgICAgICAgICAgICA8aW1nIGlkPVwiZmxvYXRpbmctcGluLXRvZ2dsZXItaW1wci1pbWdcIiBzcmM9XCIjXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7IHZpc2liaWxpdHk6aGlkZGVuO1wiIHdpZHRoPVwiMFwiIGhlaWdodD1cIjBcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJmbG9hdGluZy1waW4tZGlhbG9nYm94LXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImh0dHBzOi8vcHJldmlldy1rbWtvbmxpbmUuYWthbWFpemVkLm5ldC9iYW5uZXJzL2ltYWdlcy9jbG9zZS1idG4yLnBuZ1wiIGlkPVwiY2xvc2UtZmxvYXRpbmctcGluXCIgb25jbGljaz1cInRvZ2dsZVBvcHVwKHRydWUsdHJ1ZSk7XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cImZsb2F0aW5nLXBpbi1kaWFsb2dib3hcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBpZD1cImZsb2F0aW5nLXBpbi1pbWdcIiBzcmM9XCIke2NvbmZpZy5tYWluSW1nfVwiIGFsdD1cIlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiYmVhY29uX2RpYWxvZ2JveFwiIHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwcHg7IHRvcDogMHB4OyB2aXNpYmlsaXR5OiBoaWRkZW47XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGlkPVwiZmxvYXRpbmctcGluLWRpYWxvZ2JveC1pbXByLWltZ1wiIHNyYz1cIiNcIiBzdHlsZT1cImRpc3BsYXk6bm9uZTsgdmlzaWJpbGl0eTpoaWRkZW47XCIgd2lkdGg9XCIwXCIgaGVpZ2h0PVwiMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAke2NvbmZpZy5hZGRpdGlvbmFsVHJhY2tlcn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJmbG9hdGluZy1waW4tYnRuLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgb25jbGljaz1cInRvZ2dsZVBvcHVwKHRydWUpO1wiIGlkPVwiZmxvYXRpbmctcGluLXllc1wiPiR7Y29uZmlnLnllc0J0blRleHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBvbmNsaWNrPVwidG9nZ2xlUG9wdXAodHJ1ZSx0cnVlKTtcIiBpZD1cImZsb2F0aW5nLXBpbi1ub1wiPiR7Y29uZmlnLm5vQnRuVGV4dH08L2E+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuXG4gICAgICAgIGZsb2F0aW5nX3Bpbl9zY3JpcHQgPSBgXG4gICAgICAgIHZhciBwaXhlbEltZyA9ICdodHRwczovL2NkbnMua2xpbWcuY29tL2Qua2FwYW5sYWdpbmV0d29yay5jb20vYmFubmVyL2Fzc2V0L2ltZy9waXhlbC5wbmcnO1xuICAgICAgICB2YXIgc2l0ZSA9IFwiJHtzaXRlfVwiO1xuICAgICAgICB2YXIgZGZwX2xhbmRpbmdQYWdlID0gXCIke2NvbmZpZy5jbGlja1VybH0ke2NvbmZpZy5sYW5kaW5nUGFnZX1cIjtcbiAgICAgICAgdmFyIHRvZ2dsZXJJbWdTcmMgPSBcIiR7Y29uZmlnLnRvZ2dsZXJJbWd9XCI7XG4gICAgICAgIHZhciB0b2dnbGVySW1wckltZ1NyYyA9IFwiJHtjb25maWcubG9nVXJsfVwiO1xuICAgICAgICB2YXIgcmVzcG9uZGVkQmFuRHVyYXRpb24gPSAzNjA7XG4gICAgICAgIHZhciB0cmlnZ2VyU2Nyb2xsVG9wID0gMTUwMDtcbiAgICAgICAgdmFyIGRlZmF1bHRDb29raWVEdXJhdGlvbiA9IDEwO1xuICAgICAgICB2YXIgRmxvYXRpbmdQaW5fRE1QQ2F0ICA9ICcke2NvbmZpZy5kbXBDYXRlZ29yeX0nLnRyaW0oKS5zcGxpdCgvXFxcXHMqLFxcXFxzKi8pO1xuICAgICAgICB2YXIgRmxvYXRpbmdQaW5HQU1NYWNybyA9ICd7XCJiYW5uZXJpZFwiOlwiJHtjb25maWcuYmFubmVySWR9XCIsXCJ6b25kZUlkXCI6XCIke2NvbmZpZy56b25lSWR9XCJ9JztcbiAgICAgICAgdmFyIERGUERpc2FibGVDbG9zZUJ0biA9ICR7Y29uZmlnLmRpc2FibGVOb0J0bn07XG5cbiAgICAgICAgdmFyIGZsb2F0aW5nUGluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmbG9hdGluZy1waW5cIik7XG4gICAgICAgIHZhciBmbG9hdGluZ3BpbldyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZsb2F0aW5nLXBpbi1kaWFsb2dib3gtd3JhcHBlclwiKTtcbiAgICAgICAgdmFyIGZsb2F0aW5ncGluVG9nZ2xlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmxvYXRpbmctcGluLXRvZ2dsZXJcIik7XG4gICAgICAgIHZhciBmbG9hdGluZ3BpblBvcHVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmbG9hdGluZy1waW4tZGlhbG9nYm94XCIpO1xuICAgICAgICB2YXIgZmxvYXRpbmdwaW5JbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZsb2F0aW5nLXBpbi1pbWdcIik7XG4gICAgICAgIHZhciBmbG9hdGluZ3BpblllcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmxvYXRpbmctcGluLXllc1wiKTtcbiAgICAgICAgdmFyIGZsb2F0aW5ncGluTm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZsb2F0aW5nLXBpbi1ub1wiKTtcbiAgICAgICAgdmFyIGZsb2F0aW5ncGluQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlLWZsb2F0aW5nLXBpblwiKTtcbiAgICAgICAgdmFyIGZsb2F0aW5ncGluQ2xvc2VUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlLWZsb2F0aW5nLXBpbi10b2dnbGVcIik7XG4gICAgICAgIHZhciBmbG9hdGluZ3BpblRvZ2dsZXJJbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZsb2F0aW5nLXBpbi10b2dnbGVyLWltZ1wiKTtcbiAgICAgICAgdmFyIGZsb2F0aW5ncGluVG9nZ2xlckltcHJJbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZsb2F0aW5nLXBpbi10b2dnbGVyLWltcHItaW1nXCIpO1xuICAgICAgICB2YXIgZmxvYXRpbmdwaW5EaWFsb2dCb3hJbXBySW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmbG9hdGluZy1waW4tZGlhbG9nYm94LWltcHItaW1nXCIpO1xuICAgICAgICB2YXIgZmxvYXRpbmdwaW5TY3JvbGxUb3AgPSAwO1xuXG4gICAgICAgIHZhciBjYW5TY3JvbGwgPSB0cnVlO1xuICAgICAgICB2YXIgZGV2aWNlT3JpZW50YXRpb24gPSBcIlwiO1xuICAgICAgICB2YXIgZGZwX2Zsb2F0aW5nUGluU2hvd24gPSBmYWxzZTtcbiAgICAgICAgdmFyIGRmcF9wb3B1cElzQW5kcm9pZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZGZwX2JhbkZsb2F0aW5nUGluID0gZ2V0Q29va2llVmFsdWUoXCJkZnBfYmFuRmxvYXRpbmdQaW5cIik7XG4gICAgICAgIHZhciBkZnBfcG9wdXBJc0lPUyA9IC9pUGhvbmV8aVBhZHxpUG9kL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgdmFyIGRmcF9wb3B1cElzQW5kcm9pZCA9IGRmcF9wb3B1cElzSU9TID8gZmFsc2UgOiAvYW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgICAgICAgaWYgKHNpdGUubWF0Y2goL2thcGFubGFnaS9pZykpIHtcbiAgICAgICAgICAgIGZsb2F0aW5nUGluLmNsYXNzTmFtZSArPSBcIiBrbFwiO1xuICAgICAgICB9IGVsc2UgaWYgKHNpdGUubWF0Y2goL21lcmRla2EvaWcpKSB7XG4gICAgICAgICAgICBmbG9hdGluZ1Bpbi5jbGFzc05hbWUgKz0gXCIgbWRrXCI7XG4gICAgICAgIH1cblxuICAgICAgICBmbG9hdGluZ3BpbkNsb3NlVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgZmxvYXRpbmdQaW4uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gc2hvd0Zsb2F0aW5nUGluKCkge1xuICAgICAgICAgICAgZmxvYXRpbmdQaW4uY2xhc3NOYW1lID0gXCJhY3RpdmVcIjtcbiAgICAgICAgICAgIGZsb2F0aW5ncGluVG9nZ2xlckltZy5zcmMgPSB0b2dnbGVySW1nU3JjO1xuICAgICAgICAgICAgZmxvYXRpbmdwaW5ZZXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGdlbmVyYXRlRE1QTFBGbG9hdGluZ1Bpbik7XG4gICAgICAgICAgICBmbG9hdGluZ3BpblRvZ2dsZXJJbWcuc3R5bGUuYm9yZGVyID0gXCJub25lXCI7XG4gICAgICAgICAgICBmbG9hdGluZ3BpblRvZ2dsZXJJbXBySW1nLnNyYyA9IHRvZ2dsZXJJbXBySW1nU3JjO1xuICAgICAgICAgICAgZmxvYXRpbmdwaW5XcmFwcGVyLnN0eWxlLndpZHRoID0gd2luZG93LmlubmVyV2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICBmbG9hdGluZ3BpbldyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgZmxvYXRpbmdQaW5WaXN1YWxDYWxsYmFjaygpO1xuICAgICAgICAgICAgZGZwX2Zsb2F0aW5nUGluU2hvd24gPSB0cnVlO1xuICAgICAgICAgICAgaWYgKERGUERpc2FibGVDbG9zZUJ0bikge1xuICAgICAgICAgICAgICAgIGZsb2F0aW5nUGluRGlzYWJsZUNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gZmxvYXRpbmdQaW5EaXNhYmxlQ2xvc2UoKSB7XG4gICAgICAgICAgICBmbG9hdGluZ3Bpbk5vLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICBmbG9hdGluZ3BpbkNsb3NlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgZmxvYXRpbmdwaW5XcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlUG9wdXAodHJ1ZSx0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlRE1QTFBGbG9hdGluZ1Bpbigpe1xuICAgICAgICAgICAgaWYodHlwZW9mIHBhcmVudC53aW5kb3cuY3JlYXRlRE1QVHJhY2tlciA9PT0gXCJmdW5jdGlvblwiKXtcbiAgICAgICAgICAgICAgICBwYXJlbnQud2luZG93LmNyZWF0ZURNUFRyYWNrZXIoRmxvYXRpbmdQaW5fRE1QQ2F0LGRmcF9sYW5kaW5nUGFnZSxGbG9hdGluZ1BpbkdBTU1hY3JvKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHBhcmVudC53aW5kb3cub3BlbihkZnBfbGFuZGluZ1BhZ2UsICdfYmxhbmsnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGZsb2F0aW5nUGluVmlzdWFsQ2FsbGJhY2soKSB7XG5cbiAgICAgICAgICAgIGZsb2F0aW5ncGluV3JhcHBlci5zdHlsZS53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgZmxvYXRpbmdwaW5XcmFwcGVyLnN0eWxlLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgIC8qZmxvYXRpbmdwaW5Ub2dnbGVyLnN0eWxlLnRvcCA9ICgod2luZG93LmlubmVySGVpZ2h0IC8gMikgLSAoZmxvYXRpbmdwaW5Ub2dnbGVyLm9mZnNldEhlaWdodCAvIDIpIC0gMjApICsgXCJweFwiO1xuICAgICAgICAgICAgZmxvYXRpbmdwaW5DbG9zZVRvZ2dsZS5zdHlsZS50b3AgPSAoKHdpbmRvdy5pbm5lckhlaWdodCAvIDIpIC0gKGZsb2F0aW5ncGluVG9nZ2xlci5vZmZzZXRIZWlnaHQgLyAyKSAtMTUpICsgXCJweFwiOyovXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZsb2F0aW5ncGluVG9nZ2xlci5zdHlsZS50b3AgPSAoKHdpbmRvdy5pbm5lckhlaWdodCAvIDIpIC0gKGZsb2F0aW5ncGluVG9nZ2xlci5vZmZzZXRIZWlnaHQpIC0gNjUpICsgXCJweFwiO1xuICAgICAgICAgICAgZmxvYXRpbmdwaW5DbG9zZVRvZ2dsZS5zdHlsZS50b3AgPSAoKHdpbmRvdy5pbm5lckhlaWdodCAvIDIpIC0gKGZsb2F0aW5ncGluVG9nZ2xlci5vZmZzZXRIZWlnaHQpIC0gNjUpICsgXCJweFwiO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBpb3MgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oaVBhZHxpUGhvbmV8aVBvZCkvZyk7XG4gICAgICAgICAgICB2YXIgYW5nZWxPcmllbnRhdGlvbiA9IChpb3MpID8gd2luZG93Lm9yaWVudGF0aW9uIDogc2NyZWVuLm9yaWVudGF0aW9uLmFuZ2xlO1xuXG4gICAgICAgICAgICBpZiAoYW5nZWxPcmllbnRhdGlvbiA9PSAwKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBkZXZpY2VPcmllbnRhdGlvbiA9IFwicG9ydHJhaXRcIjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChmbG9hdGluZ3BpbldyYXBwZXIuY2xhc3NOYW1lID09IFwiYWN0aXZlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdQaW5EaXNhYmxlU2Nyb2xsKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZsb2F0aW5nUGluLmNsYXNzTmFtZSA9IGZsb2F0aW5nUGluLmNsYXNzTmFtZS5yZXBsYWNlKFwiIGxhbmRzY2FwZVwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICBmbG9hdGluZ3BpblBvcHVwLmNsYXNzTmFtZSA9IFwicG9ydHJhaXRcIjtcbiAgICAgICAgICAgICAgICBmbG9hdGluZ3BpblBvcHVwLnN0eWxlLndpZHRoID0gMyAqIGZsb2F0aW5ncGluV3JhcHBlci5vZmZzZXRXaWR0aCAvIDQgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZmxvYXRpbmdwaW5Qb3B1cC5zdHlsZS5sZWZ0ID0gZmxvYXRpbmdwaW5XcmFwcGVyLm9mZnNldFdpZHRoIC8gOCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBmbG9hdGluZ3BpblBvcHVwLnN0eWxlLnRvcCA9IGZsb2F0aW5ncGluV3JhcHBlci5vZmZzZXRIZWlnaHQgLyAyIC0gZmxvYXRpbmdwaW5Qb3B1cC5vZmZzZXRIZWlnaHQgLyAyICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIGZsb2F0aW5ncGluQ2xvc2Uuc3R5bGUucmlnaHQgPSBcImNhbGMoKCgxMDAlIC0gXCIrZmxvYXRpbmdwaW5Qb3B1cC5zdHlsZS53aWR0aCArXCIgKSAvIDIpIC0gMTRweClcIjtcbiAgICAgICAgICAgICAgICBmbG9hdGluZ3BpbkNsb3NlLnN0eWxlLnRvcCA9IChmbG9hdGluZ3BpbldyYXBwZXIub2Zmc2V0SGVpZ2h0IC8gMiAtIGZsb2F0aW5ncGluUG9wdXAub2Zmc2V0SGVpZ2h0IC8gMiApIC0gMTQgKyBcInB4XCIgO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZGV2aWNlT3JpZW50YXRpb24gPSBcImxhbmRzY2FwZVwiO1xuICAgICAgICAgICAgICAgIGZsb2F0aW5nUGluRGlzYWJsZVNjcm9sbChmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFmbG9hdGluZ1Bpbi5jbGFzc05hbWUubWF0Y2goXCJsYW5kc2NhcGVcIikpIGZsb2F0aW5nUGluLmNsYXNzTmFtZSArPSBcIiBsYW5kc2NhcGVcIjtcbiAgICAgICAgICAgICAgICAvKmZsb2F0aW5ncGluUG9wdXAuY2xhc3NOYW1lID0gXCJsYW5kc2NhcGVcIjtcbiAgICAgICAgICAgICAgICBmbG9hdGluZ3BpblBvcHVwLnN0eWxlLndpZHRoID0gNyAqIGZsb2F0aW5ncGluV3JhcHBlci5vZmZzZXRXaWR0aCAvIDggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZmxvYXRpbmdwaW5Qb3B1cC5zdHlsZS5sZWZ0ID0gZmxvYXRpbmdwaW5XcmFwcGVyLm9mZnNldFdpZHRoIC8gMTYgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZmxvYXRpbmdwaW5Qb3B1cC5zdHlsZS50b3AgPSBmbG9hdGluZ3BpbldyYXBwZXIub2Zmc2V0SGVpZ2h0IC8gMiAtIGZsb2F0aW5ncGluUG9wdXAub2Zmc2V0SGVpZ2h0IC8gMiArIFwicHhcIjsqL1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGhpZGVPbmVzaWduYWwoKSB7XG4gICAgICAgICAgICB2YXIgb25lc2lnbmFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvbmVzaWduYWwtcG9wb3Zlci1jb250YWluZXJcIik7XG4gICAgICAgICAgICBpZiAob25lc2lnbmFsKSB7XG4gICAgICAgICAgICAgICAgb25lc2lnbmFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0b2dnbGVQb3B1cChyZXNwb25kZWQsIGJ0bk5PKSB7XG4gICAgICAgICAgICBmbG9hdGluZ3BpbkNsb3NlVG9nZ2xlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICBoaWRlT25lc2lnbmFsKCk7XG4gICAgICAgICAgICBpZiAoIW5ldyBSZWdFeHAoXCIoc3xeKWFjdGl2ZShzfCQpXCIpLnRlc3QoZmxvYXRpbmdwaW5XcmFwcGVyLmNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBmbG9hdGluZ3BpbldyYXBwZXIuY2xhc3NOYW1lID0gXCJhY3RpdmVcIjtcbiAgICAgICAgICAgICAgICBmbG9hdGluZ3BpblRvZ2dsZXIuY2xhc3NOYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICBmbG9hdGluZ3BpblRvZ2dsZXJJbWcuc3JjID0gXCJcIjtcbiAgICAgICAgICAgICAgICBmbG9hdGluZ3BpbkltZy5zcmMgPSBcIiR7Y29uZmlnLm1haW5JbWd9XCI7XG4gICAgICAgICAgICAgICAgZmxvYXRpbmdwaW5Ub2dnbGVySW1wckltZy5zcmMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZsb2F0aW5ncGluRGlhbG9nQm94SW1wckltZy5zcmMgPSBwaXhlbEltZztcbiAgICAgICAgICAgICAgICBmbG9hdGluZ1BpbkRpc2FibGVTY3JvbGwodHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vd0RhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBub3dEYXRlLnNldEhvdXJzKG5vd0RhdGUuZ2V0SG91cnMoKSwgbm93RGF0ZS5nZXRNaW51dGVzKCkgKyByZXNwb25kZWRCYW5EdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb29raWVFeHBpcmVzID0gbm93RGF0ZS50b0dNVFN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBzZXRDb29raWUoXCJkZnBfYmFuRmxvYXRpbmdQaW5cIiwgXCJ0cnVlXCIsIFwiL1wiLCBjb29raWVFeHBpcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ0bk5PKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5ncGluRGlhbG9nQm94SW1wckltZy5zcmMgPSBwaXhlbEltZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZsb2F0aW5ncGluRGlhbG9nQm94SW1wckltZy5zcmMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmbG9hdGluZ3BpblRvZ2dsZXJJbWcuc3JjID0gdG9nZ2xlckltZ1NyYztcbiAgICAgICAgICAgICAgICBmbG9hdGluZ3BpblRvZ2dsZXJJbXBySW1nLnNyYyA9IHRvZ2dsZXJJbXBySW1nU3JjO1xuICAgICAgICAgICAgICAgIGZsb2F0aW5ncGluV3JhcHBlci5jbGFzc05hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZsb2F0aW5ncGluVG9nZ2xlci5jbGFzc05hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZsb2F0aW5nUGluRGlzYWJsZVNjcm9sbChmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZsb2F0aW5nUGluVmlzdWFsQ2FsbGJhY2soKTtcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBnZXREb21haW5OYW1lKCkge1xuICAgICAgICAgICAgaG9zdE5hbWUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG4gICAgICAgICAgICBySE4gPSBob3N0TmFtZS5zdWJzdHJpbmcoaG9zdE5hbWUuaW5kZXhPZihcIi5cIikgKyAxLCBob3N0TmFtZS5sZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIChySE4gPT0gXCJrYXBhbmxhZ2luZXR3b3JrLmNvbVwiKSA/IFwia2FwYW5sYWdpLmNvbVwiIDogckhOO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHNldENvb2tpZShjb29raWVOYW1lLCBjb29raWVWYWx1ZSwgY29va2llUGF0aCwgY29va2llRXhwaXJlcykge1xuICAgICAgICAgICAgdmFyIGNvb2tpZVZhbHVlID0gZXNjYXBlKGNvb2tpZVZhbHVlKTtcbiAgICAgICAgICAgIHZhciBiYW5uZXJfY29va2llRG9tYWluID0gZ2V0RG9tYWluTmFtZSgpO1xuICAgICAgICAgICAgaWYgKGNvb2tpZUV4cGlyZXMgPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHZhciBub3dEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICBub3dEYXRlLnNldEhvdXJzKG5vd0RhdGUuZ2V0SG91cnMoKSwgbm93RGF0ZS5nZXRNaW51dGVzKCkgKyBkZWZhdWx0Q29va2llRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIGNvb2tpZUV4cGlyZXMgPSBub3dEYXRlLnRvR01UU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29va2llUGF0aCAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY29va2llUGF0aCA9IFwiO1BhdGg9XCIgKyBjb29raWVQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llTmFtZSArIFwiPVwiICsgY29va2llVmFsdWUgKyBcIjtleHBpcmVzPVwiICsgY29va2llRXhwaXJlcyArIGNvb2tpZVBhdGggKyBcIjtEb21haW49XCIgKyBiYW5uZXJfY29va2llRG9tYWluO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldENvb2tpZVZhbHVlKGNvb2tpZU5hbWUpIHtcbiAgICAgICAgICAgIHZhciBjb29raWVWYWx1ZSA9IGRvY3VtZW50LmNvb2tpZTtcbiAgICAgICAgICAgIHZhciBjb29raWVTdGFydHNBdCA9IGNvb2tpZVZhbHVlLmluZGV4T2YoXCIgXCIgKyBjb29raWVOYW1lICsgXCI9XCIpO1xuICAgICAgICAgICAgaWYgKGNvb2tpZVN0YXJ0c0F0ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgY29va2llU3RhcnRzQXQgPSBjb29raWVWYWx1ZS5pbmRleE9mKGNvb2tpZU5hbWUgKyBcIj1cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29va2llU3RhcnRzQXQgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb29raWVWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvb2tpZVN0YXJ0c0F0ID0gY29va2llVmFsdWUuaW5kZXhPZihcIj1cIiwgY29va2llU3RhcnRzQXQpICsgMTtcbiAgICAgICAgICAgICAgICB2YXIgY29va2llRW5kc0F0ID0gY29va2llVmFsdWUuaW5kZXhPZihcIjtcIiwgY29va2llU3RhcnRzQXQpO1xuICAgICAgICAgICAgICAgIGlmIChjb29raWVFbmRzQXQgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29va2llRW5kc0F0ID0gY29va2llVmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb29raWVWYWx1ZSA9IHVuZXNjYXBlKGNvb2tpZVZhbHVlLnN1YnN0cmluZyhjb29raWVTdGFydHNBdCwgY29va2llRW5kc0F0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29va2llVmFsdWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gZmxvYXRpbmdQaW5EaXNhYmxlU2Nyb2xsKGRpc2FibGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmbG9hdGluZ1BpbkRpc2FibGVTY3JvbGwgJyArIGRpc2FibGUpO1xuICAgICAgICAgICAgaWYgKGRpc2FibGUpIHtcbiAgICAgICAgICAgICAgICBmbG9hdGluZ3BpblNjcm9sbFRvcCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW5Ub3AgPSBcIi1cIitmbG9hdGluZ3BpblNjcm9sbFRvcCtcInB4XCI7XG4gICAgICAgICAgICAgICAgY2FuU2Nyb2xsID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCI7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luVG9wID0gXCIwcHhcIjtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IGZsb2F0aW5ncGluU2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQuc2Nyb2xsVG9wID0gZmxvYXRpbmdwaW5TY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgY2FuU2Nyb2xsID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHR5cGVvZih3aW5kb3cua21rbGFicykgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGdhbUhpZGVOYXZiYXJTVCkgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICBnYW1IaWRlTWVudWJhcihkaXNhYmxlKVxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBnYW1IaWRlTmF2YmFyU1QoZGlzYWJsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmbG9hdGluZ1BpblZpc3VhbENhbGxiYWNrKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZsb2F0aW5nUGluVmlzdWFsQ2FsbGJhY2soKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBzY3JvbGxOb2RlID0gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gc2Nyb2xsTm9kZS5zY3JvbGxUb3A7XG4gICAgICAgICAgICBpZiAoc2Nyb2xsVG9wID4gdHJpZ2dlclNjcm9sbFRvcCkge1xuICAgICAgICAgICAgICAgIGlmICghZGZwX2Zsb2F0aW5nUGluU2hvd24gJiYgIWRmcF9iYW5GbG9hdGluZ1Bpbikge1xuICAgICAgICAgICAgICAgICAgICBzaG93RmxvYXRpbmdQaW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoIWNhblNjcm9sbCkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGA7XG5cbiAgICAgICAgLy9nZXQgZnJhbWUgcGFyZW50XG4gICAgICAgIHZhciBpZnJhbWVQYXJlbnRFbCAgICAgID0gZG9jLmJvZHk7XG5cbiAgICAgICAgLy9jcmVhdGUgcG9wdXAgZWxlbWVudCB0byBjb250YWluaW5nIHBvcHVwIHRlbXBsYXRlXG4gICAgICAgIHZhciBjb250YWluZXJFbCAgICAgICAgID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250YWluZXJFbC5pbm5lckhUTUwgICA9IGZsb2F0aW5nX3Bpbl90ZW1wbGF0ZTtcblxuICAgICAgICAvL2FkZCBwb3B1cCBlbGVtZW50IHRvIHBhcmVudCBmcmFtZVxuICAgICAgICBpZnJhbWVQYXJlbnRFbC5hcHBlbmRDaGlsZChjb250YWluZXJFbCk7XG5cbiAgICAgICAgLy9jcmVhdGUgY29udGFpbmVyIGZvciBwb3B1cCBzY3JpcHRcbiAgICAgICAgdmFyIGNvbnRhaW5lclNjcmlwdCAgICAgPSBkb2MuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIGNvbnRhaW5lclNjcmlwdC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9qYXZhc2NyaXB0Jyk7XG5cbiAgICAgICAgLy9hc3NpZ24gc2NyaXB0IG8gc2NyaXB0IGNvbnRhaW5lciwgbm90ZSBpbiBmaXJlZm94IGlubmVyVGV4dCBub3QgYXZhaWxhYmxlIHNvIHVzZSB0ZXh0Q29udGVudCBpbnN0ZWFkXG4gICAgICAgIGlmKCB0eXBlb2YgY29udGFpbmVyU2NyaXB0LmlubmVyVGV4dCA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGFpbmVyU2NyaXB0LnRleHRDb250ZW50ID0gZmxvYXRpbmdfcGluX3NjcmlwdDtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBjb250YWluZXJTY3JpcHQuaW5uZXJUZXh0ID0gZmxvYXRpbmdfcGluX3NjcmlwdDtcblxuICAgICAgICAvL2FkZCBwb3B1cCBzY3JpcHQgIGNvbnRhaW5lciB0byBwb3B1cCBlbGVtZW50XG4gICAgICAgIGNvbnRhaW5lckVsLmFwcGVuZENoaWxkKGNvbnRhaW5lclNjcmlwdCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJbRmxvYXRpbmcgUGluXSBFcnJvcjpcIiwgZSk7XG4gICAgfVxufSJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/FloatingPin.js\n\n}");

/***/ })

}]);