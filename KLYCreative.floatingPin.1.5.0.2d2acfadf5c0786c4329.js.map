{"version":3,"file":"KLYCreative.floatingPin.1.5.0.2d2acfadf5c0786c4329.js","mappings":"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","sources":["webpack://KLYCreative/./src/modules/FloatingPin.js"],"sourcesContent":["export function FloatingPin(config, doc, site) {\n    try {\n        var floating_pin_template = '';\n        floating_pin_template = `\n        <sty`+`le>\n            #floating-pin {\n                position: fixed;\n                top: 1000px;\n                left: 0;\n                width: 0;\n                height: 0;\n                z-index: 999999999;\n                visibility: hidden;\n                overflow: hidden;\n            }\n\n            #floating-pin.active {\n                top: 0;\n                visibility: visible;\n                overflow: visible;\n                -webkit-transition: top 1s;\n                -o-transition: top 1s;\n                transition: top 1s;\n                display: block;\n            }\n\n            #floating-pin.landscape {\n                display: none;\n            }\n\n            #floating-pin-toggler {\n                position: absolute;\n                /*width: 90px;\n                height: 90px;*/\n                width: 70px;\n                height: 70px;\n                left: 20px;\n                visibility: hidden;\n            }\n\n            #floating-pin-toggler img {\n                width: 100%;\n            }\n\n            #floating-pin-toggler.active {\n                visibility: visible;\n            }\n\n            #floating-pin-dialogbox-wrapper {\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 0;\n                height: 0;\n                background: transparent;\n                overflow: hidden;\n                visibility: hidden;\n            }\n\n            #floating-pin-dialogbox-wrapper.active {\n                background: rgba(0, 0, 0, .65);\n                visibility: visible;\n            }\n\n            #floating-pin-dialogbox {\n                position: absolute;\n                display: block;\n                border-radius: 5px;\n                overflow: hidden;\n                -webkit-transform: translateY(900px);\n                -ms-transform: translateY(900px);\n                -o-transform: translateY(900px);\n                transform: translateY(900px);\n                -webkit-transition: transform .7s;\n                -o-transition: transform .7s;\n                transition: transform .7s;\n            }\n\n            #floating-pin-dialogbox-wrapper.active #floating-pin-dialogbox {\n                -webkit-transform: translateY(0);\n                -ms-transform: translateY(0);\n                -o-transform: translateY(0);\n                transform: translateY(0);\n                -webkit-transition: transform .7s;\n                -o-transition: transform .7s;\n                transition: transform .7s;\n            }\n\n            #floating-pin-yes,\n            #floating-pin-no {\n                display: block;\n                width: 100%;\n                font-family: \"Open Sans\", arial, sans-serif;\n                font-weight: 500;\n                font-size: 16px;\n                text-decoration: none;\n                text-align: center;\n                padding: 20px 0;\n                border-bottom: 1px solid #d0d0d0;\n                background: #FFF;\n            }\n\n            #floating-pin-yes {\n                margin-top: -5px;\n            }\n\n            .kl #floating-pin-yes {\n                color: #F39812;\n            }\n\n            .mdk #floating-pin-yes {\n                color: #F70100;\n            }\n\n            #floating-pin-no {\n                color: #7A7A7A;\n            }\n\n            #floating-pin-dialogbox.portrait img {\n                max-width: 100%;\n                max-height: 100%;\n            }\n\n            img#close-floating-pin {\n                position: absolute;\n                z-index: 99999;\n            }\n\n            img#close-floating-pin-toggle{\n                /*left: 110px*/\n                left: 90px; \n                transform: translate(-50%, -50%);\n                z-index: 9999999;\n                position: absolute;\n            }\n        </st`+`yle>\n        <div id=\"floating-pin\" class=\"kl\">\n            <img src=\"https://preview-kmkonline.akamaized.net/banners/images/close-btn2.png\" id=\"close-floating-pin-toggle\">\n            <div onclick=\"togglePopup();\" id=\"floating-pin-toggler\" class=\"active\"><img id=\"floating-pin-toggler-img\" src=\"\" alt=\"\"></div>\n            <div id=\"beacon_toggler\" style=\"position: absolute; left: 0px; top: 0px; visibility: hidden;\">\n                <img id=\"floating-pin-toggler-impr-img\" src=\"#\" style=\"display:none; visibility:hidden;\" width=\"0\" height=\"0\" />\n            </div>\n\n            <div id=\"floating-pin-dialogbox-wrapper\">\n                <img src=\"https://preview-kmkonline.akamaized.net/banners/images/close-btn2.png\" id=\"close-floating-pin\" onclick=\"togglePopup(true,true);\">\n                <div id=\"floating-pin-dialogbox\">\n                    <img id=\"floating-pin-img\" src=\"${config.mainImg}\" alt=\"\">\n                    <div id=\"beacon_dialogbox\" style=\"position: absolute; left: 0px; top: 0px; visibility: hidden;\">\n                        <img id=\"floating-pin-dialogbox-impr-img\" src=\"#\" style=\"display:none; visibility:hidden;\" width=\"0\" height=\"0\" />\n                        ${config.additionalTracker}\n                    </div>\n                    <div id=\"floating-pin-btn-wrapper\">\n                        <div onclick=\"togglePopup(true);\" id=\"floating-pin-yes\">${config.yesBtnText}</div>\n                        <a onclick=\"togglePopup(true,true);\" id=\"floating-pin-no\">${config.noBtnText}</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n        `;\n         //get frame parent\n        var iframeParentEl      = doc.body;\n\n        //create popup element to containing popup template\n        var containerEl         = doc.createElement('div');\n        containerEl.innerHTML   = floating_pin_template;\n\n        //add popup element to parent frame\n        iframeParentEl.appendChild(containerEl);\n    \n        var pixelImg = 'https://cdns.klimg.com/d.kapanlaginetwork.com/banner/asset/img/pixel.png';\n        var dfp_landingPage = `${config.clickUrl}${config.landingPage}`;\n        var togglerImgSrc = `${config.togglerImg}`;\n        var togglerImprImgSrc = `${config.logUrl}`;\n        var respondedBanDuration = 360;\n        var triggerScrollTop = 1500;\n        var defaultCookieDuration = 10;\n        var FloatingPin_DMPCat  = `${config.dmpCategory}`.trim().split(/\\\\s*,\\\\s*/);\n        var FloatingPinGAMMacro = `{\"bannerid\":\"${config.bannerId}\",\"zondeId\":\"${config.zoneId}\"}`;\n        var DFPDisableCloseBtn = config.disableNoBtn;\n\n        var floatingPin = doc.getElementById(\"floating-pin\");\n        var floatingpinWrapper = doc.getElementById(\"floating-pin-dialogbox-wrapper\");\n        var floatingpinToggler = doc.getElementById(\"floating-pin-toggler\");\n        var floatingpinPopup = doc.getElementById(\"floating-pin-dialogbox\");\n        var floatingpinImg = doc.getElementById(\"floating-pin-img\");\n        var floatingpinYes = doc.getElementById(\"floating-pin-yes\");\n        var floatingpinNo = doc.getElementById(\"floating-pin-no\");\n        var floatingpinClose = doc.getElementById(\"close-floating-pin\");\n        var floatingpinCloseToggle = doc.getElementById(\"close-floating-pin-toggle\");\n        var floatingpinTogglerImg = doc.getElementById(\"floating-pin-toggler-img\");\n        var floatingpinTogglerImprImg = doc.getElementById(\"floating-pin-toggler-impr-img\");\n        var floatingpinDialogBoxImprImg = doc.getElementById(\"floating-pin-dialogbox-impr-img\");\n        var floatingpinScrollTop = 0;\n\n        var canScroll = true;\n        var dfp_floatingPinShown = false;\n        var dfp_banFloatingPin = getCookieValue(\"dfp_banFloatingPin\");\n        // var dfp_popupIsIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);\n\n        if (site.match(/kapanlagi/ig)) {\n            floatingPin.className += \" kl\";\n        } else if (site.match(/merdeka/ig)) {\n            floatingPin.className += \" mdk\";\n        }\n\n        floatingpinCloseToggle.addEventListener(\"click\", function(){\n            floatingPin.classList.remove(\"active\");\n        });\n\n        function showFloatingPin() {\n            floatingPin.className = \"active\";\n            floatingpinTogglerImg.src = togglerImgSrc;\n            floatingpinYes.addEventListener(\"click\", generateDMPLPFloatingPin);\n            floatingpinTogglerImg.style.border = \"none\";\n            floatingpinTogglerImprImg.src = togglerImprImgSrc;\n            floatingpinWrapper.style.width = window.innerWidth + \"px\";\n            floatingpinWrapper.style.height = window.innerHeight + \"px\";\n            floatingPinVisualCallback();\n            dfp_floatingPinShown = true;\n            if (DFPDisableCloseBtn) {\n                floatingPinDisableClose();\n            }\n        };\n\n        function floatingPinDisableClose() {\n            floatingpinNo.style.display = 'none';\n            floatingpinClose.style.display = 'block';\n            floatingpinWrapper.addEventListener(\"click\", function () {\n                togglePopup(true,true);\n            });\n        \n        }\n\n        function generateDMPLPFloatingPin(){\n            if(typeof parent.window.createDMPTracker === \"function\"){\n                parent.window.createDMPTracker(FloatingPin_DMPCat,dfp_landingPage,FloatingPinGAMMacro);\n            }else{\n                parent.window.open(dfp_landingPage, '_blank');\n            }\n        }\n\n        function floatingPinVisualCallback() {\n\n            floatingpinWrapper.style.width = window.innerWidth + \"px\";\n            floatingpinWrapper.style.height = window.innerHeight + \"px\";\n            /*floatingpinToggler.style.top = ((window.innerHeight / 2) - (floatingpinToggler.offsetHeight / 2) - 20) + \"px\";\n            floatingpinCloseToggle.style.top = ((window.innerHeight / 2) - (floatingpinToggler.offsetHeight / 2) -15) + \"px\";*/\n            \n            floatingpinToggler.style.top = ((window.innerHeight / 2) - (floatingpinToggler.offsetHeight) - 65) + \"px\";\n            floatingpinCloseToggle.style.top = ((window.innerHeight / 2) - (floatingpinToggler.offsetHeight) - 65) + \"px\";\n            \n            \n            var ios = navigator.userAgent.match(/(iPad|iPhone|iPod)/g);\n            var angelOrientation = (ios) ? window.orientation : screen.orientation.angle;\n\n            if (angelOrientation == 0) {\n            \n                if (floatingpinWrapper.className == \"active\") {\n                    floatingPinDisableScroll(true);\n                }\n            \n                floatingPin.className = floatingPin.className.replace(\" landscape\", \"\");\n                floatingpinPopup.className = \"portrait\";\n                floatingpinPopup.style.width = 3 * floatingpinWrapper.offsetWidth / 4 + \"px\";\n                floatingpinPopup.style.left = floatingpinWrapper.offsetWidth / 8 + \"px\";\n                floatingpinPopup.style.top = floatingpinWrapper.offsetHeight / 2 - floatingpinPopup.offsetHeight / 2 + \"px\";\n                floatingpinClose.style.right = \"calc(((100% - \"+floatingpinPopup.style.width +\" ) / 2) - 14px)\";\n                floatingpinClose.style.top = (floatingpinWrapper.offsetHeight / 2 - floatingpinPopup.offsetHeight / 2 ) - 14 + \"px\" ;\n            \n            } else {\n                floatingPinDisableScroll(false);\n                if (!floatingPin.className.match(\"landscape\")) floatingPin.className += \" landscape\";\n                /*floatingpinPopup.className = \"landscape\";\n                floatingpinPopup.style.width = 7 * floatingpinWrapper.offsetWidth / 8 + \"px\";\n                floatingpinPopup.style.left = floatingpinWrapper.offsetWidth / 16 + \"px\";\n                floatingpinPopup.style.top = floatingpinWrapper.offsetHeight / 2 - floatingpinPopup.offsetHeight / 2 + \"px\";*/\n            \n            }\n        \n        };\n\n        function hideOnesignal() {\n            var onesignal = doc.getElementById(\"onesignal-popover-container\");\n            if (onesignal) {\n                onesignal.style.display = 'none';\n            }\n        }\n\n        function togglePopup(responded, btnNO) {\n            floatingpinCloseToggle.style.display = 'none';\n            hideOnesignal();\n            if (!new RegExp(\"(s|^)active(s|$)\").test(floatingpinWrapper.className)) {\n                floatingpinWrapper.className = \"active\";\n                floatingpinToggler.className = \"\";\n                floatingpinTogglerImg.src = \"\";\n                floatingpinImg.src = `${config.mainImg}`;\n                floatingpinTogglerImprImg.src = \"\";\n                floatingpinDialogBoxImprImg.src = pixelImg;\n                floatingPinDisableScroll(true);\n            } else {\n                if (responded) {\n                    var nowDate = new Date();\n                    nowDate.setHours(nowDate.getHours(), nowDate.getMinutes() + respondedBanDuration);\n                    var cookieExpires = nowDate.toGMTString();\n                    setCookie(\"dfp_banFloatingPin\", \"true\", \"/\", cookieExpires);\n                    if (btnNO) {\n                        setTimeout(function() {\n                            floatingpinDialogBoxImprImg.src = pixelImg;\n                        }, 1000);\n                    }\n                    floatingpinDialogBoxImprImg.src = \"\";\n                }\n                floatingpinTogglerImg.src = togglerImgSrc;\n                floatingpinTogglerImprImg.src = togglerImprImgSrc;\n                floatingpinWrapper.className = \"\";\n                floatingpinToggler.className = \"\";\n                floatingPinDisableScroll(false);\n            }\n\n            floatingPinVisualCallback();\n        };\n\n        function getDomainName() {\n            var hostName = window.location.hostname;\n            var rHN = hostName.substring(hostName.indexOf(\".\") + 1, hostName.length);\n            return (rHN == \"kapanlaginetwork.com\") ? \"kapanlagi.com\" : rHN;\n        };\n\n        function setCookie(cookieName, cookieValue, cookiePath, cookieExpires) {\n            var escCookieValue = encodeURI(cookieValue);\n            var banner_cookieDomain = getDomainName();\n            if (cookieExpires == \"\") {\n                var nowDate = new Date();\n                nowDate.setHours(nowDate.getHours(), nowDate.getMinutes() + defaultCookieDuration);\n                cookieExpires = nowDate.toGMTString();\n            }\n            if (cookiePath != \"\") {\n                cookiePath = \";Path=\" + cookiePath;\n            }\n            doc.cookie = cookieName + \"=\" + escCookieValue + \";expires=\" + cookieExpires + cookiePath + \";Domain=\" + banner_cookieDomain;\n        };\n\n        function getCookieValue(cookieName) {\n            var cookieValue = doc.cookie;\n            var cookieStartsAt = cookieValue.indexOf(\" \" + cookieName + \"=\");\n            if (cookieStartsAt == -1) {\n                cookieStartsAt = cookieValue.indexOf(cookieName + \"=\");\n            }\n            if (cookieStartsAt == -1) {\n                cookieValue = null;\n            } else {\n                cookieStartsAt = cookieValue.indexOf(\"=\", cookieStartsAt) + 1;\n                var cookieEndsAt = cookieValue.indexOf(\";\", cookieStartsAt);\n                if (cookieEndsAt == -1) {\n                    cookieEndsAt = cookieValue.length;\n                }\n                cookieValue = unescape(cookieValue.substring(cookieStartsAt, cookieEndsAt));\n            }\n            return cookieValue;\n        };\n\n        function floatingPinDisableScroll(disable) {\n            console.log('floatingPinDisableScroll ' + disable);\n            if (disable) {\n                floatingpinScrollTop = doc.body.scrollTop || doc.scrollingElement.scrollTop;\n                doc.body.style.height = \"100%\";\n                doc.body.style.overflow = \"hidden\";\n                doc.body.style.marginTop = \"-\"+floatingpinScrollTop+\"px\";\n                canScroll = false;\n            } else {\n                doc.body.style.height = \"auto\";\n                doc.body.style.overflow = \"auto\";\n                doc.body.style.marginTop = \"0px\";\n                doc.body.scrollTop = floatingpinScrollTop;\n                doc.scrollingElement.scrollTop = floatingpinScrollTop;\n                canScroll = true;\n            }\n            \n            // if (typeof(window.kmklabs) !== \"undefined\") {\n            //     if (typeof(gamHideNavbarST) == \"undefined\") {\n            //         gamHideMenubar(disable)\n            //     }else{\n            //         gamHideNavbarST(disable);\n            //     }\n            // }\n        };\n\n        window.addEventListener(\"orientationchange\", function() {\n            floatingPinVisualCallback();\n        });\n        window.addEventListener(\"resize\", function() {\n            floatingPinVisualCallback();\n        });\n        window.addEventListener(\"scroll\", function() {\n            var scrollNode = doc.scrollingElement || doc.documentElement;\n            var scrollTop = scrollNode.scrollTop;\n            if (scrollTop > triggerScrollTop) {\n                if (!dfp_floatingPinShown && !dfp_banFloatingPin) {\n                    showFloatingPin();\n                }\n            }\n        });\n        window.addEventListener(\"touchmove\", function(e) {\n            if (!canScroll) {\n                e.preventDefault();\n            }\n        });\n        \n\n       \n\n        // //create container for popup script\n        // var containerScript     = doc.createElement('script');\n        // containerScript.setAttribute('type', 'text/javascript');\n\n        // containerScript.textContent = floating_pin_script;\n        \n        // //add popup script  container to popup element\n        // containerEl.appendChild(containerScript);\n    } catch (e) {\n        console.warn(\"[Floating Pin] Error:\", e);\n    }\n}"],"names":["FloatingPin","config","doc","site","floating_pin_template","mainImg","additionalTracker","yesBtnText","noBtnText","iframeParentEl","body","containerEl","createElement","innerHTML","appendChild","pixelImg","dfp_landingPage","clickUrl","landingPage","togglerImgSrc","togglerImg","togglerImprImgSrc","logUrl","FloatingPin_DMPCat","dmpCategory","trim","split","FloatingPinGAMMacro","bannerId","zoneId","DFPDisableCloseBtn","disableNoBtn","floatingPin","getElementById","floatingpinWrapper","floatingpinToggler","floatingpinPopup","floatingpinImg","floatingpinYes","floatingpinNo","floatingpinClose","floatingpinCloseToggle","floatingpinTogglerImg","floatingpinTogglerImprImg","floatingpinDialogBoxImprImg","floatingpinScrollTop","canScroll","dfp_floatingPinShown","dfp_banFloatingPin","getCookieValue","generateDMPLPFloatingPin","parent","window","createDMPTracker","open","floatingPinVisualCallback","style","width","innerWidth","height","innerHeight","top","navigator","userAgent","match","orientation","screen","angle","className","floatingPinDisableScroll","replace","offsetWidth","left","offsetHeight","right","togglePopup","responded","btnNO","onesignal","display","RegExp","test","nowDate","Date","setHours","getHours","getMinutes","setCookie","toGMTString","setTimeout","src","cookieName","cookieValue","cookiePath","cookieExpires","hostName","rHN","escCookieValue","encodeURI","banner_cookieDomain","location","hostname","substring","indexOf","length","cookie","cookieStartsAt","cookieEndsAt","unescape","disable","console","log","scrollTop","scrollingElement","overflow","marginTop","addEventListener","classList","remove","documentElement","border","e","preventDefault","warn"],"ignoreList":[],"sourceRoot":""}