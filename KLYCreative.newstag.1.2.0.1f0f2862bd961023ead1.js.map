{"version":3,"file":"KLYCreative.newstag.1.2.0.1f0f2862bd961023ead1.js","mappings":"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","sources":["webpack://KLYCreative/./src/modules/Newstag.js"],"sourcesContent":["export function Newstag(config, site, platform, doc) {\n  const newstagElement = {\n    kapanlagi: {\n      targetSelector: \".header25-trending__list\",\n      itemSelector: \"a.header25-trending__item\",\n      titleSelector: \".header25-trending__item__title\"\n    },\n    liputan6: {\n      targetSelector: \".trending--list\",\n      itemSelector: \".trending--list__item\",\n      titleSelector: \".trending__item__title\"\n    },\n    fimela: {\n      mode: \"replace\",\n      desktop: {\n        targetSelector: \".tags--box\",\n        itemSelector: \".tags--box--item\",\n        titleSelector: \".tags--box--item__name\",\n        linkSelector: \".tags--box--item__link\"\n      },\n      mobile: {\n        targetSelector: \".selected-tags-homepage__list\",\n        itemSelector: \".selected-tags-homepage--item\",\n        titleSelector: \".selected-tags-homepage--item__link\",\n        linkSelector: \".selected-tags-homepage--item__link\"\n      }\n    },\n    bolacom: {\n      desktop: {\n        targetSelector: \".cycle-carousel-wrap\",\n        itemSelector: \".tags--box--item\",\n        titleSelector: \".tags--box--item__name\",\n        linkSelector: \".tags--box--item__link\"\n      }\n    },\n    bola: {\n      mode: \"swiper\",\n      desktop: {\n        targetSelector: \".box-tag-swiper .swiper-wrapper\",\n        itemSelector: \".swiper-slide\",\n        linkSelector: \"a\"\n      },\n      mobile: {\n        targetSelector: \".box-tag-swiper\",\n        itemSelector: \".box-overflow-x-item\",\n        linkSelector: \"a\"\n      }\n    }\n  };\n\n  try {\n    const elements = newstagElement[site];\n    if (!elements) return console.warn(\"[Newstag] Unsupported site:\", site);\n\n    const textTag = config.textTag || \"Newstag\";\n    const landingPage = config.landingPage || \"#\";\n    const position = Number.isInteger(config.position) ? config.position : 0;\n    let count = 0;\n    const platformCheck = elements.mode ? (platform === \"mobile\" ? elements.mobile : elements.desktop) : elements;\n\n    const interval = setInterval(() => {\n      // BOLACOM \n      if (site === \"bolacom\") {\n        const wrap = doc.querySelector(\".cycle-carousel-wrap\") || doc.querySelector(\".tags--box\");\n        if (!wrap) return (++count > 300 && clearInterval(interval));\n\n        if (config.debugPreview) {\n          if (!wrap.querySelector(\".tag-ads\")) {\n            const li = doc.createElement(\"li\");\n            li.className = \"tags--box--item tag-ads\";\n            li.innerHTML = `<a href=\"${landingPage}\" class=\"tags--box--item__link\" title=\"${textTag}\" target=\"_blank\">\n              <span class=\"tags--box--item__name\">${textTag}</span></a>`;\n            wrap.prepend(li);\n          }\n          return clearInterval(interval);\n        }\n\n        const items = [...wrap.querySelectorAll(\".tags--box--item.cycle-slide\")];\n        if (!items.length || items.some(i => i.textContent.trim() === textTag)) return;\n        const active = wrap.querySelector(\".cycle-slide-active\");\n        if (!active) return;\n        const li = doc.createElement(\"li\");\n        li.className = \"tags--box--item cycle-slide tag-ads\";\n        li.innerHTML = `<a href=\"${landingPage}\" class=\"tags--box--item__link\" title=\"${textTag}\" target=\"_blank\">\n          <span class=\"tags--box--item__name\">${textTag}</span>\n          <i class=\"tags--box--item__topic-icon i-checklist\"></i>\n          <i class=\"tags--box--item__topic-icon-green i-checklist-green\"></i>\n        </a>`;\n        wrap.insertBefore(li, items[Math.min(items.indexOf(active) + position, items.length)] || null);\n        return clearInterval(interval);\n      }\n\n      // SWIPER mode\n      if (elements.mode === \"swiper\") {\n        const wrap = doc.querySelector(platformCheck.targetSelector);\n        if (!wrap || wrap.querySelector(\".tag-ads\")) return clearInterval(interval);\n        const reference = wrap.children[position];\n        if (!reference) return;\n        const div = doc.createElement(\"div\");\n        // platformCheck.item might be like \".swiper-slide\" â€” remove dot if present\n        const itemClass = (platformCheck.itemSelector || platformCheck.item || \"\").replace(/^\\./, \"\");\n        div.className = `${itemClass} tag-ads`;\n        div.innerHTML = `<a href=\"${landingPage}\" title=\"${textTag}\" target=\"_blank\">${textTag}</a>`;\n        wrap.insertBefore(div, reference);\n        if (platform !== \"mobile\") wrap.closest(\".swiper-container\")?.swiper?.update();\n        return clearInterval(interval);\n      }\n\n      // REPLACE mode\n      if (elements.mode === \"replace\") {\n        const wrap = doc.querySelector(platformCheck.targetSelector || platformCheck.target);\n        const tagItem = wrap?.querySelectorAll(platformCheck.itemSelector || platformCheck.item)[position];\n        if (!tagItem) return;\n        const link = tagItem.querySelector(platformCheck.linkSelector || platformCheck.link || \"a\");\n        if (link) { link.textContent = textTag; link.href = landingPage; link.target = \"_blank\"; }\n        tagItem.classList.add(\"tag-ads\");\n        return clearInterval(interval);\n      }\n\n      // CLONE (default)\n      const wrap = doc.querySelector(elements.targetSelector);\n      if (!wrap) return (++count > 300 && clearInterval(interval));\n      const tagItem = wrap.querySelectorAll(elements.itemSelector)[position];\n      if (!tagItem || wrap.querySelector(\".tag-ads\")) return;\n      const tag = tagItem.cloneNode(true);\n      tag.classList.add(\"tag-ads\");\n      const title = tag.querySelector(elements.titleSelector);\n      if (title) title.textContent = textTag;\n      const link = tag.querySelector(elements.linkSelector || \"a\");\n      if (link) { link.href = landingPage; link.target = \"_blank\"; }\n      tagItem.insertAdjacentElement(\"beforebegin\", tag);\n      clearInterval(interval);\n\n    }, 100);\n  } catch (e) {\n    console.warn(\"[Newstag] Error:\", e);\n  }\n}\n"],"names":["Newstag","config","site","platform","doc","newstagElement","kapanlagi","targetSelector","itemSelector","titleSelector","liputan6","fimela","mode","desktop","linkSelector","mobile","bolacom","bola","elements","console","warn","textTag","landingPage","position","Number","isInteger","count","platformCheck","interval","setInterval","wrap","querySelector","clearInterval","debugPreview","li","createElement","className","innerHTML","prepend","items","querySelectorAll","length","some","i","textContent","trim","active","insertBefore","Math","min","indexOf","reference","children","div","itemClass","item","replace","closest","swiper","update","target","tagItem","link","href","classList","add","tag","cloneNode","title","insertAdjacentElement","e"],"ignoreList":[],"sourceRoot":""}