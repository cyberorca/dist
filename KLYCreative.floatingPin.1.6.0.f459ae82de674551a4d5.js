"use strict";(this.webpackChunkKLYCreative=this.webpackChunkKLYCreative||[]).push([[838],{775:(i,n,t)=>{function e(i,n,t){try{var e=i.togglerImg,o="dfp_banFloatingPin",l=`${i.clickUrl}${i.landingPage}`,a=`\n        <style id="floating-pin-styles">\n            #floating-pin { position: fixed; top:1000px; left:0; width:0; height:0; z-index:999999999; visibility:hidden; overflow:hidden; }\n            #floating-pin.active { top:0; visibility:visible; overflow:visible; transition: top .5s ease; display:block; }\n            #floating-pin.landscape { /* optional hide rules for landscape if needed */ }\n            #floating-pin-toggler { position: absolute; width: 64px; height:64px; left: 16px; visibility:hidden; cursor:pointer; }\n            #floating-pin-toggler.active { visibility: visible; }\n            #floating-pin-toggler img { width:100%; height:100%; object-fit:contain; display:block; }\n            #floating-pin-dialogbox-wrapper {z-index: 1000000000;position: fixed; top:0; left:0; width:0; height:0; background: transparent; overflow:hidden; visibility:hidden; display:flex; align-items:center; justify-content:center; }\n            #floating-pin-dialogbox-wrapper.active { background: rgba(0,0,0,0.65); visibility: visible; }\n            #floating-pin-dialogbox { position: absolute; display:block; border-radius:10px; overflow:hidden; transform: translateY(0); transition: transform .45s ease; max-width: 77vw; box-sizing: border-box; }\n            #floating-pin-dialogbox-wrapper.active #floating-pin-dialogbox { transform: translateY(0); }\n            #floating-pin-dialogbox img { display:block; width: 100%; height: auto; max-height: 70vh; object-fit:cover; }\n            #floating-pin-btn-wrapper { display:block; background:#fff; }\n            #floating-pin-yes, #floating-pin-no { display:block; width:100%; padding:14px 12px; font-family:Arial,Helvetica,sans-serif; font-size:16px; text-align:center; cursor:pointer; border-top:1px solid #e6e6e6; }\n            #floating-pin-yes { color:#F39812; font-weight:600; }\n            #floating-pin-no { color:#7A7A7A; }\n            img#close-floating-pin, img#close-floating-pin-toggle { position:absolute; width:19px; height:19px; object-fit:contain; cursor:pointer; z-index:1000000000; }\n            img#close-floating-pin-toggle { left: 4px; top: 12px; }\n            img#close-floating-pin { right: calc(50% - 20px); top: 10px; }\n            /* Responsive rules */\n            @media (max-width: 700px) { \n            #floating-pin-toggler { width:56px; height:56px; left:12px; } \n            #floating-pin-dialogbox { width: 92vw; border-radius:8px; } \n            #floating-pin-dialogbox img { max-height: 60vh; } \n            }\n            @media (orientation: landscape) and (max-width: 900px) { \n            /* mobile landscape adjustments */ \n            #floating-pin-dialogbox { max-width: 85vw; } \n            }\n        </style>\n        <div id="floating-pin" class="kl">\n            <img src="https://preview-kmkonline.akamaized.net/banners/images/close-btn2.png" id="close-floating-pin-toggle" alt="close toggle">\n            <div id="floating-pin-toggler" class="active" aria-hidden="true">\n            <img id="floating-pin-toggler-img" src="" alt="">\n            </div>\n            <div id="floating-pin-dialogbox-wrapper" role="dialog" aria-hidden="true">\n            \x3c!--img src="https://preview-kmkonline.akamaized.net/banners/images/close-btn2.png" id="close-floating-pin" alt="close"--\x3e\n            <div id="floating-pin-dialogbox" role="document">\n                <img id="floating-pin-img" src="${i.mainImg}" alt="">\n                <div id="beacon_dialogbox" style="position: absolute; left: 0px; top: 0px; visibility: hidden;">\n                    <img id="floating-pin-dialogbox-impr-img" src="${i.logUrl}https://cdns.klimg.com/d.kapanlaginetwork.com/banner/asset/img/pixel.png" style="display:none; visibility:hidden;" width="0" height="0" />\n                    ${i.additionalTracker}\n                </div>\n                <div id="floating-pin-btn-wrapper">\n                <div id="floating-pin-yes" role="button" tabindex="0">${i.yesBtnText}</div>\n                <div id="floating-pin-no" role="button" tabindex="0">${i.noBtnText}</div>\n                </div>\n            </div>\n            </div>\n        </div>`,r=t.createElement("div");r.innerHTML=a,(t.body||t.documentElement).appendChild(r);var s=t.getElementById("floating-pin"),c=t.getElementById("floating-pin-dialogbox-wrapper"),d=t.getElementById("floating-pin-toggler"),g=t.getElementById("floating-pin-toggler-img"),p=t.getElementById("close-floating-pin-toggle"),f=t.getElementById("close-floating-pin"),h=t.getElementById("floating-pin-yes"),m=t.getElementById("floating-pin-no"),v=!1,u="true"===k(o),y=!0,b=0;function x(){try{return n.matchMedia&&n.matchMedia("(orientation: landscape)").matches}catch(i){return console.warn(i),n.innerWidth>n.innerHeight}}function w(i,n,e){try{var o=new Date;o.setTime(o.getTime()+60*e*1e3);var l="expires="+o.toUTCString();t.cookie=i+"="+encodeURIComponent(n)+"; "+l+"; path=/"}catch(i){return`[Error] ${i}`}}function k(i){try{var n=new RegExp("(^| )"+i+"=([^;]+)"),e=t.cookie.match(n);return e?decodeURIComponent(e[2]):null}catch(i){return console.warn(i),null}}function E(){x()&&L()}function L(){try{var i=t.body;b=t.scrollingElement&&t.scrollingElement.scrollTop||t.documentElement.scrollTop||0,i.style.position="fixed",i.style.top="-"+b+"px",i.style.left="0",i.style.right="0",i.style.width="100%",y=!1}catch(i){console.error(i);try{t.documentElement.style.overflow="hidden"}catch(i){console.error(i)}y=!1}}function T(){try{var i=t.body;i.style.position="",i.style.top="",i.style.left="",i.style.right="",i.style.width="",t.scrollingElement?t.scrollingElement.scrollTop=b:t.documentElement.scrollTop=b,y=!0}catch(i){console.error(i);try{t.documentElement.style.overflow=""}catch(i){console.error(i)}y=!0}}function I(){try{c.style.width=n.innerWidth+"px",c.style.height=n.innerHeight+"px";var i=d&&d.offsetHeight||64,e=Math.max(12,Math.round(n.innerHeight/2-i-40));d&&(d.style.top=e+"px"),p&&(p.style.top=e-8+"px");var o=t.getElementById("floating-pin-dialogbox");if(o){var l=Math.min(.92*n.innerWidth,640);o.style.width=Math.round(l)+"px",o.style.top=Math.max(18,Math.round((n.innerHeight-(o.offsetHeight||260))/2))+"px"}}catch(i){console.error(i)}}function B(){u||v||s&&(s.classList.add("active"),g&&(g.src=e),v=!0,c&&c.classList.remove("active"),E(),I())}function _(){c&&(c.classList.add("active"),E(),I())}function F(i,n){n&&console.warn(n),c&&(i&&(w(o,"true",360),u=!0),c.classList.remove("active"),x()&&T(),I())}function M(i,n){c&&(c.classList.contains("active")?F(Boolean(i),n):_())}try{function P(i,n){i&&i.addEventListener("keydown",function(i){"Enter"!==i.key&&" "!==i.key&&"Spacebar"!==i.key||(i.preventDefault(),n())})}p&&p.addEventListener("click",function(){s.classList.remove("active")}),f&&f.addEventListener("click",function(){M(!0,!0)}),h&&h.addEventListener("click",function(){n.open(l,"_blank")}),m&&m.addEventListener("click",function(){M(!0,!0),s.classList.remove("active")}),d&&d.addEventListener("click",function(){_()}),P(h,function(){h.click()}),P(m,function(){m.click()}),n.addEventListener("resize",function(){I()},{passive:!0}),n.addEventListener("orientationchange",function(){I(),c&&c.classList.contains("active")&&(x()?E():T())},{passive:!0}),n.addEventListener("touchmove",function(i){y||i.preventDefault()},{passive:!1}),n.addEventListener("scroll",function(){try{(t.scrollingElement&&t.scrollingElement.scrollTop||t.documentElement.scrollTop||0)>1500&&(v||u||B())}catch(i){console.error(i)}},{passive:!0}),I();try{(t.scrollingElement&&t.scrollingElement.scrollTop||t.documentElement.scrollTop||0)>1500&&!v&&!u&&setTimeout(B,120)}catch(z){console.error(z)}}catch(C){console.error("FloatingPin bind error:",C)}try{n&&n!==window?n.__FloatingPin=n.__FloatingPin||{open:function(){_()},close:function(){F(!1,!1)},toggle:function(i,n){M(i,n)}}:window.__FloatingPin=window.__FloatingPin||{open:function(){_()},close:function(){F(!1,!1)},toggle:function(i,n){M(i,n)}}}catch(H){console.error(H)}}catch($){console.warn("[Floating Pin] Error:",$)}}t.d(n,{FloatingPin:()=>e})}}]);
//# sourceMappingURL=KLYCreative.floatingPin.1.6.0.f459ae82de674551a4d5.js.map