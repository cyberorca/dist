{"version":3,"file":"KLYCreative.advertorialEmbed.1.6.0.be7a0207e10086fa9618.js","mappings":"wGAAO,SAASA,EAAiBC,EAAQC,EAAKC,EAAKC,EAAMC,GACrD,MAAMC,EAAWF,EACXG,EAAWF,EACXG,EAA+BC,SAASC,cAAc,OACtDC,EAAuBF,SAASC,cAAc,UAC9CE,EAAiBH,SAASI,cAC1BC,EAAYb,EAAOc,SACnBC,EAAW,CACb,QAAW,CACP,MAAS,UACT,SAAY,iBAEhB,SAAY,CACR,MAAS,UACT,SAAY,kBAEhB,UAAa,CACT,MAAS,UACT,SAAY,yEAEhB,OAAU,CACN,MAAS,UACT,SAAY,wBAEhB,QAAW,CACP,MAAS,UACT,SAAY,CACR,SAAY,uBAGpB,cAAe,CACX,MAAS,UACT,SAAY,CACR,UAAa,yEACb,UAAa,2EAGrB,aAAc,CACV,MAAS,UACT,SAAY,0EAEhB,KAAQ,CACJ,MAAS,UACT,SAAY,8BAOpB,IAU8BC,EACtBC,EAkBAC,EACAC,EA7BJC,QAAQC,IAAI,aACOnB,EAAIoB,cAAc,kCA0GzC,WACI,IAAIC,EAAQ,EACZ,MAAMC,EAAaC,YAAY,WAC3B,IAAIC,EAAiD,iBAA/BX,EAASV,GAAUsB,SAAwBzB,EAAI0B,iBAAiB,GAAGb,EAASV,GAAUsB,YAAczB,EAAI0B,iBAAiBb,EAASV,GAAUsB,SAASrB,IACvKuB,EAAcH,EAAQA,EAAQI,OAAS,GACvCD,IACAA,EAAYE,YAAYxB,GACxByB,cAAcR,IAElBD,EAAQ,KAAOS,cAAcR,GAC7BD,GACJ,EAAG,IACP,CAlHIU,GAI0BjB,EAHLH,GAIjBI,EAAQT,SAASC,cAAc,MAC7ByB,YAAc,YACpBjB,EAAMkB,UAAUC,IAAI,kBAEpB7B,EAA6B8B,aAAa,KAAM,+BAChD3B,EAAqB2B,aAAa,cAAe,GACjD3B,EAAqB2B,aAAa,YAAa,MAC/C3B,EAAqB2B,aAAa,KAAM,uBACxC3B,EAAqB2B,aAAa,MAAOrB,GAEzCT,EAA6BwB,YAAYd,GACzCV,EAA6BwB,YAAYrB,GAuH9C,SAAmB4B,GACb,MAAMC,EAAM/B,SAASC,cAAc,UACnC8B,EAAIC,UAAY,eAChBD,EAAIL,YAAc,oBAElBK,EAAIE,iBAAiB,QAAS,SAASC,GACrCA,EAAEC,kBACFD,EAAEE,iBAGHC,EAAW7C,EAAO8C,UAQhBjC,EAAUkC,MAAM,gBAAgBjB,OAAS,EACnCjB,EAAUkC,MAAM,gBAAgB,GAAKlC,EAAUkC,MAAM,gBAAgB,GAErElC,EAAUkC,MAAM,KAAK,IAXgB,SAChD,GAEAT,EAAOP,YAAYQ,EACtB,CApIIS,CAAUzC,GAMNW,EAAQV,SAASC,cAAc,SAC/BU,EAAU,8EAEwBJ,EAASV,GAAU4C,yzFAwEzD/B,EAAMgB,YAAcf,EACpBR,GAAkBA,EAAeuC,sBAAsB,cAAehC,IAkC5E,MAAM2B,EAbN,WACE,MAAMM,EAAS3C,SAASC,cAAc,UACtC0C,EAAOjC,MAAMkC,QAAU,OACvB5C,SAAS6C,KAAKtB,YAAYoB,GAG1B,MAAMN,EAAaM,EAAOG,cAAcC,KAAKC,KAAKC,QAGlD,OAFAjD,SAAS6C,KAAKK,YAAYP,GAEnBN,CACT,CAGmBc,EA2BrB,C","sources":["webpack://KLYCreative/./src/modules/AdvertorialEmbed.js"],"sourcesContent":["export function AdvertorialEmbed(config, win, doc, site, pageType) {\n    const SITENAME = site;\n    const PAGETYPE = pageType;\n    const IFRAME_EMBED_ARTICLE_WRAPPER = document.createElement(\"div\")\n    const IFRAME_EMBED_ARTICLE = document.createElement(\"iframe\");\n    const CURRENT_SCRIPT = document.currentScript;\n    const EMBED_URL = config.embedURL;//\"https://d.kapanlaginetwork.com/banner/preview/2025/11/14/bolacom-revive-advertorial-embed-DWm5X6dty/wangiyangbikininget-ffar-jadi-senjata-andalan-pria-ambisius-biar-selalu-tampil-menarik.html?advembed=1\";\n    const SETTINGS = {\n        \"bolacom\": {\n            \"color\": \"#31824A\",\n            \"targetEl\": \".tags--topics\"\n        }, //.article-content-body__item\n        \"liputan6\": {\n            \"color\": \"#FF3300\",\n            \"targetEl\": \".trending-tags\"\n        }, //.article-content-body__item trending-tags\n        \"kapanlagi\": {\n            \"color\": \"#F28900\",\n            \"targetEl\": \".detail__box.wrapper.relatedtag.relatedtag-collapsed, .box.box--topic\"\n        }, // .infinite-paging-item\n        \"fimela\": {\n            \"color\": \"#BF0561\",\n            \"targetEl\": \".fimela-tags--topics\"\n        }, // .article-readpage--section\n        \"merdeka\": {\n            \"color\": \"#8E01FF\",\n            \"targetEl\": {\n                \"readpage\": \".dt-inner.relative\" // tidak ada di legacy \n            }\n        },\n        \"merdeka.com\": {\n            \"color\": \"#8E01FF\",\n            \"targetEl\": {\n                \"readpage3\": \"#div-gpt-ad-mgid-underarticle-placeholder, section.section--postcredit\", //.article--version2  .dt--postcredit-tag\n                \"readpage2\": \"#div-gpt-ad-mgid-underarticle-placeholder, section.section--postcredit\", //  .article--version2 .dt--postcredit-tag\n            }\n        },\n        \"otosia.com\": {\n            \"color\": \"#D71920\",\n            \"targetEl\": \"#div-gpt-ad-mgid-underarticle-placeholder, section.section--postcredit\"\n        }, // .article--version2\n        \"bola\": {\n            \"color\": \"#138137\",\n            \"targetEl\": \"#div-revive-ad-bolanet-sc\"\n        }, // .detail-body .infinite\n    }\n\n    klyAds();\n\n\n    function klyAds() {\n        console.log(\"HALLOOOO!\");\n        const isNotEmpty = doc.querySelector(\"#kly-embeded-article-wrapper\");\n\n        if (isNotEmpty) return;\n\n        _getTargetElement_();\n        _createIframeArticle(EMBED_URL);\n    }\n\n    function _createIframeArticle(_iframesrc) {\n        var label = document.createElement(\"p\");\n        label.textContent = \"Baca juga\";\n        label.classList.add(\"advembed-label\");\n\n        IFRAME_EMBED_ARTICLE_WRAPPER.setAttribute(\"id\", \"kly-embeded-article-wrapper\");\n        IFRAME_EMBED_ARTICLE.setAttribute(\"frameborder\", 0);\n        IFRAME_EMBED_ARTICLE.setAttribute(\"scrolling\", \"no\");\n        IFRAME_EMBED_ARTICLE.setAttribute(\"id\", \"kly-embeded-article\");\n        IFRAME_EMBED_ARTICLE.setAttribute(\"src\", _iframesrc);\n\n        IFRAME_EMBED_ARTICLE_WRAPPER.appendChild(label);\n        IFRAME_EMBED_ARTICLE_WRAPPER.appendChild(IFRAME_EMBED_ARTICLE);\n        createCTA(IFRAME_EMBED_ARTICLE_WRAPPER);\n        tweakCss();\n    }\n    //height : ${data.dimensions.height * 4 / 10 }px !important;\n    // function tweakCss(data) {\n    function tweakCss() {\n        var style = document.createElement(\"style\");\n        var mystyle = `\n                    :root {\n                        --site-color-theme: ${SETTINGS[SITENAME].color};\n                    }\n            \n                    iframe#kly-embeded-article{\n                        width: 100%;\n                        height : 50vh !important;\n                    }\n            \n                    div#kly-embeded-article-wrapper {\n                        position: relative;\n                        margin-top: 20px;\n                        margin-bottom: 20px;\n                    }\n                    div#kly-embeded-article-wrapper::before {\n                        content: \"Paid content\";\n                        position: relative;\n                        width: 100%;\n                        top: 0;\n                        left: 0;\n                        font-size: 12;\n                        color: gray;\n                    }\n            \n                    div#kly-embeded-article-wrapper p {\n                        margin: 10px 0;\n                        font-size: 24px;\n                        font-weight: 700;\n                        color: var(--site-color-theme);\n                    }\n            \n                    div#kly-embeded-article-wrapper::after {\n                        content: \"\";\n                        width: 100%;\n                        height: 200px;\n                        background: linear-gradient(0deg, white, transparent);\n                        position: absolute;\n                        bottom: 0;\n                        margin-bottom: 65px;\n                    }\n            \n                    button.cta-advembed {\n                        max-width: 320px;\n                        min-width: 300px;\n                        height: 50px;\n                        display: block;\n                        margin: 30px auto 0;\n                        border: solid 2px var(--site-color-theme);\n                        border-radius: 7px;\n                        background: white;\n                        color: var(--site-color-theme);\n                        font-size: 16px;\n                        font-weight: 600;\n                    }\n            \n                    /*merdeka readpage 1 tweak*/\n                    .section .dt-inner.relative #kly-embeded-article-wrapper::before,\n                    .section .dt-inner.relative #kly-embeded-article-wrapper iframe {\n                        padding: 1.5rem;\n                    }\n            \n                    .dark div#kly-embeded-article-wrapper::after {\n                        background: linear-gradient(0deg, #141414, transparent);\n                    }\n            \n                    .dark button.cta-advembed {\n                        background: #141414;\n                    }\n            \n                    .box-tag div#kly-embeded-article-wrapper {\n                        margin: 0 15px;\n                    }\n                    `\n        style.textContent = mystyle;\n        CURRENT_SCRIPT && CURRENT_SCRIPT.insertAdjacentElement(\"beforebegin\", style);\n    }\n\n    function _getTargetElement_() {\n        let count = 0;\n        const setWrapper = setInterval(function() {\n            let wrapper = (typeof SETTINGS[SITENAME].targetEl == \"string\") ? doc.querySelectorAll(`${SETTINGS[SITENAME].targetEl}`) : doc.querySelectorAll(SETTINGS[SITENAME].targetEl[PAGETYPE]);\n            let lastWrapper = wrapper[wrapper.length - 1];\n            if (lastWrapper) {\n                lastWrapper.appendChild(IFRAME_EMBED_ARTICLE_WRAPPER);\n                clearInterval(setWrapper);\n            }\n            count > 100 && clearInterval(setWrapper);\n            count++;\n        }, 200);\n    }\n\n /**\n   *  Utility: safely get the native window.open\n   *  even if Revive (or another script) has wrapped it.\n   */\n  function getNativeOpen() {\n    const iframe = document.createElement(\"iframe\");\n    iframe.style.display = \"none\";\n    document.body.appendChild(iframe);\n\n    // The iframe's window.open is always the real, native version\n    const nativeOpen = iframe.contentWindow.open.bind(window);\n    document.body.removeChild(iframe);\n\n    return nativeOpen;\n  }\n\n  // Cache the true browser window.open\n  const nativeOpen = getNativeOpen();\n\n   function createCTA(target) {\n         const btn = document.createElement(\"button\");\n         btn.className = \"cta-advembed\";\n         btn.textContent = \"Baca Selengkapnya\";\n\n         btn.addEventListener(\"click\", function(e) {\n           e.stopPropagation();\n           e.preventDefault();\n\n          // Always use the native open, never Revive's wrapped one\n          nativeOpen(config.clickUrl+getNonEmbedUrl(), \"_blank\");\n       });\n\n       target.appendChild(btn);\n    }\n\n    function getNonEmbedUrl() {\n        var url = null;\n        if (EMBED_URL.split(\"/advembedded\").length > 1) {\n            url = EMBED_URL.split(\"/advembedded\")[0] + EMBED_URL.split(\"/advembedded\")[1]\n        } else {\n            url = EMBED_URL.split(\"?\")[0];\n        }\n        return url;\n    }\n}"],"names":["AdvertorialEmbed","config","win","doc","site","pageType","SITENAME","PAGETYPE","IFRAME_EMBED_ARTICLE_WRAPPER","document","createElement","IFRAME_EMBED_ARTICLE","CURRENT_SCRIPT","currentScript","EMBED_URL","embedURL","SETTINGS","_iframesrc","label","style","mystyle","console","log","querySelector","count","setWrapper","setInterval","wrapper","targetEl","querySelectorAll","lastWrapper","length","appendChild","clearInterval","_getTargetElement_","textContent","classList","add","setAttribute","target","btn","className","addEventListener","e","stopPropagation","preventDefault","nativeOpen","clickUrl","split","createCTA","color","insertAdjacentElement","iframe","display","body","contentWindow","open","bind","window","removeChild","getNativeOpen"],"ignoreList":[],"sourceRoot":""}